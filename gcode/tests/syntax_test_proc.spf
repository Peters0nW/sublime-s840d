; SYNTAX TEST "s840d_gcode.sublime-syntax"

; ==================================================
;  PROC header tests
;  Performance: 0.3ms
; ==================================================

; incomplete procedure definition
PROC ; comment
;  <- meta.definition.procedure
;  <- keyword.control.proc
;    ^ comment.line

; incomplete procedure definition
N10PROC ; comment
;  ^^^^ meta.definition.procedure
; <- comment.blockno
;  ^ keyword.control.proc
;       ^ comment.line

; simple procedure definition
N20PROC name ; comment
;  ^^^^^^^^^ meta.definition.procedure
;      ^^^^^ meta.definition.procedure.name
; <- comment.blockno
;  ^ keyword.control.proc
;       ^ entity.name.function
;            ^ comment.line

; valid procedure defintion with parameters
N30 PROC name(VAR BOOL DATA) ; comment
;   ^^^^^^^^^^^^^^^^^^^^^^^^ meta.definition.procedure
;       ^^^^^ meta.definition.procedure.name
;            ^^^^^^^^^^^^^^^ meta.definition.procedure.parameters
; <- comment.blockno
;   ^ keyword.control.proc
;        ^ entity.name.function
;            ^ punctuation.section.parens.begin
;             ^ storage.modifier
;                 ^ storage.type
;                      ^ variable.parameter
;                          ^ punctuation.section.parens.end
;                            ^ comment.line

; valid procedure definition with parameters and attributes
N40 PROC name (VAR BOOL DATA[10]) SBLOF DISPLOF ; comment
;   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ meta.definition.procedure
;       ^^^^^^ meta.definition.procedure.name
;             ^^^^^^^^^^^^^^^^^^^ meta.definition.procedure.parameters
;                                ^^^^^^^^^^^^^^ meta.definition.procedure.attributes
;                           ^^^^ meta.brackets
; <- comment.blockno
;   ^ keyword.control.proc
;        ^ entity.name.function
;             ^ punctuation.section.parens.begin
;              ^^^ storage.modifier
;                  ^^^^ storage.type
;                       ^^^^ variable.parameter
;                           ^ punctuation.section.brackets.begin
;                              ^ punctuation.section.brackets.end
;                               ^ punctuation.section.parens.end
;                                 ^ storage.modifier
;                                       ^ storage.modifier
;                                               ^ comment.line

; valid procedure definition with parameters and attributes
N40 PROC name (VAR REAL DATA = -1.0) SBLOF DISPLOF ; comment
;   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ meta.definition.procedure
;       ^^^^^^ meta.definition.procedure.name
;             ^^^^^^^^^^^^^^^^^^^^^^ meta.definition.procedure.parameters
;                                   ^^^^^^^^^^^^^^ meta.definition.procedure.attributes
; <- comment.blockno
;   ^ keyword.control.proc
;        ^ entity.name.function
;             ^ punctuation.section.parens.begin
;              ^^^ storage.modifier
;                  ^^^^ storage.type
;                       ^^^^ variable.parameter
;                            ^ keyword.operator.assignment
;                              ^^^^ constant.numeric
;                                  ^ punctuation.section.parens.end
;                                    ^^^^^ storage.modifier
;                                          ^^^^^^^ storage.modifier
;                                                  ^ comment.line

; valid procedure definition with attributes
N50 PROC name SBLOF ACTBLOCNO ; comment
;   ^^^^^^^^^^^^^^^^^^^^^^^^^ meta.definition.procedure
;       ^^^^^^ meta.definition.procedure.name
;             ^^^^^^^^^^^^^^^ meta.definition.procedure.attributes
; <- comment.blockno
;   ^ keyword.control.proc
;        ^ entity.name.function
;             ^ storage.modifier
;                   ^ storage.modifier
;                             ^ comment.line

; invalid procedure attribute used
N70 PROC name FOOBAR ; comment
;   ^^^^^^^^^^^^^^^^ meta.definition.procedure
;       ^^^^^^^^^^^^ meta.definition.procedure.name
; <- comment.blockno
;   ^ keyword.control.proc
;        ^ entity.name.function
;             ^^^^^^ invalid.illegal
;                    ^ comment.line

; invalid procedure attribute used
N70 PROC name SBLOF FOOBAR DISPLOF ; comment
;   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ meta.definition.procedure
;       ^^^^^^ meta.definition.procedure.name
;             ^^^^^^^^^^^^^^^^^^^^ meta.definition.procedure.attributes
; <- comment.blockno
;   ^ keyword.control.proc
;        ^ entity.name.function
;             ^^^^^ storage.modifier
;                   ^^^^^^ invalid.illegal
;                          ^^^^^^^ storage.modifier
;                                  ^ comment.line

; procedure attribute must finalize a block
N80 PROC name SBLOF (VAR BOOL DATA) ; comment
;   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ meta.definition.procedure
;       ^^^^^^ meta.definition.procedure.name
;             ^^^^^^^^^^^^^^^^^^^^^ meta.definition.procedure.attributes
; <- comment.blockno
;   ^ keyword.control.proc
;        ^ entity.name.function
;             ^ storage.modifier
;                   ^^^^^^^^^^^^^^ invalid.illegal
;                                   ^ comment.line

N90 PROC name invalid (VAR BOOL - DATA) ; comment
;   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ meta.definition.procedure
;       ^^^^^^^^^^^^^^ meta.definition.procedure.name
;                     ^^^^^^^^^^^^^^^^^ meta.definition.procedure.parameters
; <- comment.blockno
;   ^ keyword.control.proc
;        ^^^^ entity.name.function
;             ^^^^^^^ invalid.illegal
;                     ^ punctuation.section.parens.begin
;                      ^ storage.modifier
;                          ^ storage.type
;                               ^ invalid.illegal
;                                 ^ variable.parameter
;                                     ^ punctuation.section.parens.end

N90 PROC name invalid (VAR BOOL - DATA)(BOOL INVALID) SBLOF DUMDUM ; comment
;   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ meta.definition.procedure
;       ^^^^^^^^^^^^^^ meta.definition.procedure.name
;                     ^^^^^^^^^^^^^^^^^ meta.definition.procedure.parameters
;                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^ meta.definition.procedure.attributes
; <- comment.blockno
;   ^ keyword.control.proc
;        ^^^^ entity.name.function
;             ^^^^^^^ invalid.illegal
;                     ^ punctuation.section.parens.begin
;                      ^ storage.modifier
;                          ^ storage.type
;                               ^ invalid.illegal
;                                 ^ variable.parameter
;                                     ^ punctuation.section.parens.end
;                                             ^^^^^^ invalid.illegal
