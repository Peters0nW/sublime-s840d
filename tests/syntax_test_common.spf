////////////////////////////////////////////////////
// COMMON tests
// Performance: 4.2ms
////////////////////////////////////////////////////

10Define
N1 data DEFINE G1 AS GORAP-10
dEfINE test as 50
N5DEFINE G1 AS GORAP-10
N10DEFINE G1 AS GORAP-10
N10 DEFINE G1 AS GORAP-10    ; test $A_CMDSI "test"
n15 DEFINE G1 AS GORAP-10
define G1 date  da data as G0B1D5C2
; A comment with 10 binary 'Heff' values
define g1 as G1 F500
define D1 as D2
N10 ( iso comment )

$A_DBB[10]

CALL "L300" BLOCK N100 TO N200
CALL BLOCK N100 TO N200
IF TEST >= 10
ADISPOS=0
ATOL[DELAYFSTOF]=2

$MA_ABS_INC_RATIO[0,AX1]
$MN_USER_DATA_INT[5]=$P_ACTFRAME  ; variable assigning
X=ACN(_d)
X=acn(_d)
N10 /1 ABS(R3)
define cdc as
/1 N40 G0 D10

N30DEF BOOL CHECK=TRUE        ; comment
N30 DEF NCK STRING[12] STR="Test", STR2 = 10 ; comment
N30 LABEL: DEF NCK STRING[12] STR="Test" <<Ba[i]<< test ; comment

$MN_USER_DATA_HEX[10]

$MN_BAG_MASK
N10 IF CHECK=TRUE GOTOF END

$PI
$AC_UDAT[]
SPOS[1]=10
SPOS = 10
SPOS DATA [-for] = 10
ABS does (R1)
;$P_UiFR[0,X,TR]
N10 ; **************************************
; procedure definition
PROC WZW (VAR BOOL[31] DATA)
    T TR BOOL
    GOTOS ; goto start of proc
RET
; **************************************
; procedure calls
N10 PROC WZW (VAR BOOL DATA) SBLOF
N10 das PROC WZW (VAR BOOL DATA) SBLOF
gehtPROC WZW (VAR BOOL DATA) SBLOF

WZW(1000,3,1,1,1,)
WZW (1000,3,1,1,1,)

L350
M240
G1 F1000
N10G1F1000
N10 G1 F1000      ; match N10 as block number
D N10 F1000       ; don't match N10

; **************************************
; SINUMERIK AX identifier
AX1              ; direct AX identifier
AX[1]            ; indirect AX identifier
N501AX1          ; direct AX identifier
N502AX[1]        ; indirect AX identifier
N503 AX1         ; direct AX identifier
N504 AX[1]       ; indirect AX identifier
AXSTRING(AX1)    ; direct AX parameter
AXSTRING(AX[1])  ; indirect AX parameter
AXSTRING(AX[R2]) ; indirect AX parameter
$MA_CORR_VELO[AX1]    ; direct AX index
$MA_CORR_VELO[AX[1]]  ; indirect AX index
$MA_AX_MASS[3,AX3]    ; direct AX index
$MA_AX_MASS[4,AX[R1]] ; indirect AX index
G0 AX1=10 AX[_YY]=.20
; --------------------------------------
AX31           ; last valid AX identfier
AX32           ; unknown AX identifier
AX40           ; unknown AX identifier
AX100          ; unknown AX identifier
AX1000         ; unknown AX identifier
; **************************************
; SINUMERIK channel and machine axes
X1                   ; ISO position
X[1]  = 0            ; indirect X identifier
N501X1               ; ISO position
N502X[1]             ; indirect X identifier
N503 X1              ; ISO position
N504 X[1]            ; indirect X identifier
AXSTRING(X)          ; direct X parameter
AXSTRING(X1)         ; direct X parameter
AXSTRING(X[1])       ; indirect X parameter
AXSTRING(X[R2])      ; indirect X parameter
$MA_CORR_VELO[X1]    ; direct X index
$MA_CORR_VELO[X[1]]  ; indirect X index
$MA_AX_MASS[3,X2]    ; direct X index
$MA_AX_MASS[4,X[R1]] ; indirect X index
G0 X1=10 X[_YY]=.20
; --------------------------------------
X1[10]=7.508         ; syntax error

ATOL[{AXIS}]={REAL}

SQRT data  ; comment

; **************************************
$MA_AX_MASS[X,4] = 10
$MA_AX_MASS[X1,4] = 10
N10$MA_AX_MASS[XC,4] = 10
N10 $MA_AX_MASS[ZP,4] = 10
 N10$MA_AX_MASS[ZP,4] = 10
 N10 $MA_AX_MASS[ZP,4] = 10
; **************************************
; complex example
G0G500X0Y-10Z-.05B.51C10.J7.R1M3M7M8T100D1H90 ; coment
N34G9G1G4G2M4
N46X4.25Y59.75Z-9.678 R6.
N48 X7.136Y64.879Z-10.R6.
 N47   X5.3 Y63.141 Z-9.866 R6.
 N47   X 5.3 Y 63.141 Z -9.866 R 6.
; --------------------------------------
N10 MOVE_19: GG40M30HRM21HR0M4M[4]=10G500
; **************************************

; **************************************
; R-parameters
WHEN TRUE DO $R10 = 21
DO $R10 = 5
G10F4.R10
N10R10 = 44
N10$R10= 44
R100=R10+R5       ; ok
$R[20]=4          ; ok
$r[20]=4          ; ok
; --------------------------------------
R10[5]=4          ; syntax error
$R10[5]=4         ; syntax error
; **************************************
; STRINGS & COMMENTS
"IN A STRING ; DOES NOT MEAN A COMMENT" ; but here it does
"STRINGS ESCAPE '"'TEXT'"' WITH TWO DOUBLE QUOTES"
"CONSTANTS LIKE TRUE OR FALSE ARE ALLOWED"
"NUMBERS LIKE -0.4 OR 'H509F' AND 'B1101' ARE HIGHLIGHTED"
"NC-VARS AS $A_HOUR ARE RECOCNIZED, TOO"
"The functions ACN are highlighted like this."
"WHAT ABOUT X OR X1 AX1 R1 and so on?)" ;
; **************************************
; constants
N10R0 = $PI
R1 = TRUE
R2 = FALSE
R3 = 2000.4                ; dez
R4 = 'H012345678ABCDEF'    ; hex
  $R5 = 'B11010011101'       ; bin
; --------------------------------------
R3 = 200G0                 ; dez error
R4 = 'H0125ANMnOAa'        ; hex error
R5 = 'B11012011101'        ; bin error
; **************************************
; **************************************
; known nc variables
$A_hour
N10$A_HOUR
N10$MN_G53_TOOLCORR = $MN_G53_TOOLCORR B_AND 'H20'   ; known
; --------------------------------------
$MN_G53_TOLCORR = 'H20'    ; unknown
; **************************************

IF TEST == DET

IF $A_DAY==10 GOTOB MOVE_19   ; cool man
IF $A_DAY[0]=10 GOTOB "MOVE_19"  data  ; invalid label definition
IF $P_ACTID="10" GOTOB ("TEST"<<R1)    ; cool man
IF $P_ACTID="10" GOTOS ("TEST"<<R1)    ; GOTOS doesn't allow labels
IF $P_ACTID="10" abs("TEST"<<R1)    ; GOTOS doesn't allow labels
; **************************************
; control structures
N11 IF (R1==5)
  IF (R2<50)    ; comment
    G0
    X100Y10
    X0Y100
    X100Y10
    X0Y100
    X100Y10
    X0Y100
    X100Y10
    X0Y100
    X=10 Y1=-.5
  ENDIF
ELSE       da   ; Comment
  WHILE (R1<50)
    X100Y10
    X0Y100
    X100Y10
    X0Y100
    X100Y10
    X0Y100
    X100Y10
  ENDWHILE        ; test
  REPEAT
    X100Y10
    X0Y100
    X100Y10
    X0Y100
    X100Y10
    X0Y100
    X100Y10
    X0Y100
  UNTIL (R4>50)
ENDIF

GOTO ; test
N10 IF $A_HOUR==1 GOTOS  ; test
N100if $A_DAY>10 GOTOF ("test") data ; comment
; **************************************
CASE ABS ($A_HOUR) OF 1 GOTOF _M20 2 GOTOF LM40 DEFAULT GOTOF _M02 ; data

_M20:  G0X10
       ; RÃ¼cksprung ins Hauptprogramm zu Label END
       RET("END",0,$P_STACK,FALSE)

N100LM40:  G0 X10 Y10 Z1
       RET

N100_M02:  G0X10
           RET

N10TEST:GOTOB _M20

N10AC(10)

; **************************************
; REPEAT
N10REPEAT _LBL              ; comment
N10REPEAT _LBL1 P=10        ; comment
N10REPEAT _LBL1 _LBL2       ; comment
N10REPEAT _LBL1 _LBL2 P=10  ; comment
N10REPEAT _LBL1 _LBL2 P=_VAR ; comment
; --------------------------------------
N10REPEAT _1LBL             ; invalid label
N10REPEAT P=10 _LBL1        ; invalid order
N10REPEAT P=10 _LBL1 _LBL2  ; invalid order
N10REPEAT _LBL1 _LBL2 P=.10 ; invalid repeat count
N10REPEAT _LBL1 _LBL2 P=1.0 ; invalid repeat count
; **************************************
; REPEATB
N10REPEATB _LBL1            ; comment
N10REPEATB _LBL1 P=10       ; comment
; --------------------------------------
N10REPEATB P=10 _LBL1       ; comment
N10REPEATB _LBL1 _LBL2      ; comment
N10REPEATB _LBL1 _LBL2 P=10 ; comment
; **************************************

CASE R3 OF 1 GOTOF LBL1 OF 2 GOTOF LBL2
; *************************************
; default: i does not match anything


  GOTOF CEND
; *************************************
; case 1
LBL1:

  GOTOF CEND           ; test
; *************************************
; case 2
LBL2:

  GOTOF CEND
; *************************************
; case end
CEND:FOR IDX=0 TO NUM
  IF (condition)

  ELSE

  ENDIF
ENDFOR
N10CALL "CYCLE" BLOCK "N10" TO "N20" ; TEST

DEF INT _TEST
GOTOS ; test
CHANDATA(1)
N10CLRINT(4)
N10 (Data)
